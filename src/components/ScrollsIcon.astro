---
// Scrolls tower section for newsletter page
export interface Props {
	class?: string;
}

const { class: className } = Astro.props;
---

<svg
  viewBox="0 0 160 250"
  class={className}
  role="img"
  aria-label="Arcane Scrolls tower illustration"
  style="width: 100%; max-width: 160px; height: auto; image-rendering: pixelated; image-rendering: crisp-edges;"
>
  <title>Arcane Scrolls Tower</title>

  <!-- Scrolls tower -->
  <rect x="0" y="0" width="160" height="250" fill="var(--colour-teal-bg)" stroke="var(--colour-stone)" stroke-width="4" />

  <!-- Brick details -->
  <rect x="10" y="10" width="24" height="16" fill="var(--colour-stone)" opacity="0.15" />
  <rect x="50" y="10" width="24" height="16" fill="var(--colour-stone)" opacity="0.15" />
  <rect x="110" y="10" width="24" height="16" fill="var(--colour-stone)" opacity="0.15" />

  <!-- Battlements (pixel-perfect crenellations) -->
  <rect x="0" y="-8" width="32" height="8" fill="var(--colour-stone)" />
  <rect x="0" y="0" width="32" height="24" fill="var(--colour-teal-dark)" />
  <rect x="48" y="-8" width="32" height="8" fill="var(--colour-stone)" />
  <rect x="48" y="0" width="32" height="24" fill="var(--colour-teal-dark)" />
  <rect x="96" y="-8" width="32" height="8" fill="var(--colour-stone)" />
  <rect x="96" y="0" width="32" height="24" fill="var(--colour-teal-dark)" />

  <!-- Mystical orb on top -->
  <rect x="132" y="-24" width="16" height="16" fill="var(--colour-gold)" class="mystical-orb" />
  <rect x="136" y="-20" width="8" height="8" fill="var(--colour-gold-light)" opacity="0.8" />

  <!-- Windows (pixel-grid aligned with arched tops) -->
  <rect x="28" y="56" width="40" height="48" fill="#000" opacity="0.6" />
  <rect x="32" y="60" width="32" height="40" fill="var(--colour-gold)" opacity="0.5" class="window" />
  <rect x="32" y="56" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />
  <rect x="56" y="56" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />

  <rect x="92" y="56" width="40" height="48" fill="#000" opacity="0.6" />
  <rect x="96" y="60" width="32" height="40" fill="var(--colour-gold)" opacity="0.5" class="window" />
  <rect x="96" y="56" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />
  <rect x="120" y="56" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />

  <rect x="60" y="136" width="40" height="48" fill="#000" opacity="0.6" />
  <rect x="64" y="140" width="32" height="40" fill="var(--colour-gold)" opacity="0.5" class="window" />
  <rect x="64" y="136" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />
  <rect x="88" y="136" width="8" height="8" fill="var(--colour-gold)" opacity="0.3" />

  <!-- Door (rectangular pixel style) -->
  <rect x="52" y="202" width="56" height="48" fill="var(--colour-stone-dark)" />
  <rect x="76" y="202" width="4" height="48" fill="#000" opacity="0.4" />
  <rect x="68" y="220" width="8" height="8" fill="var(--colour-gold)" opacity="0.5" />

  <!-- Icon -->
  <text x="80" y="42" text-anchor="middle" fill="var(--colour-gold)" font-size="32" font-family="'Press Start 2P', monospace">ðŸ“œ</text>
</svg>

<style>
  svg {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  .window {
    animation: windowGlow 3s ease-in-out infinite;
  }

  @keyframes windowGlow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.7; }
  }

  /* Mystical orb pulse */
  @keyframes orbPulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
  }

  .mystical-orb {
    animation: orbPulse 2.5s ease-in-out infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    .window {
      animation: none;
      opacity: 0.5;
    }
    .mystical-orb {
      animation: none;
      opacity: 0.8;
    }
  }
</style>
